<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workhub - Encontrar Trabajo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="icon" type="image/svg+xml" href="/src/assets/img/logo_grande.png" />

    <link rel="stylesheet" href="../../assets/css/enterprise-home.css">
</head>

<body>
    <!-- ===================== Navbar (igual a home.html) ===================== -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm" data-component="Navbar">
        <div class="container-fluid px-3 px-lg-4">
            <!-- Logo -->
            <a class="navbar-brand d-flex align-items-center" href="#">
                <img src="/src/assets/img/logo.png" alt="Workhub" style="height:30px" class="mx-2 img-fluid">
            </a>

            <!-- Botón hamburguesa para móvil -->
            <button class="navbar-toggler border-0 px-1" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Contenido colapsable -->
            <div class="collapse navbar-collapse" id="navbarContent">
                <!-- Buscador -->
                <form id="globalSearchForm" class="d-flex mx-2 flex-grow-1 align-items-start my-3 my-lg-0"
                    style="max-width:520px" role="search" aria-label="Buscar trabajos" data-action="search">
                    <label for="q" class="visually-hidden">Título, palabra clave o compañía</label>
                    <input id="q" class="form-control me-2" type="search"
                        placeholder="Título, palabra clave o compañía">
                    <button class="btn btn-primary" type="button">Encontrar</button>
                </form>

                <!-- Menú de navegación -->
                <ul class="navbar-nav mb-2 mb-lg-0 me-auto me-lg-0">
                    <li class="nav-item"><a class="nav-link px-3" href="/src/pages/enterprise/home.html">Inicio</a></li>
                    <li class="nav-item"><a class="nav-link px-3"
                            href="/src/pages/enterprise/candidates/index.html">Candidatos</a></li>
                    <li class="nav-item"><a class="nav-link px-3"
                            href="/src/pages/enterprise/companies/index.html">Empresas</a></li>
                </ul>

                <!-- Usuario -->
                <div class="dropdown ms-auto ms-lg-3 mt-3 mt-lg-0">
                    <a href="#" class="d-flex align-items-center text-dark text-decoration-none dropdown-toggle"
                        data-bs-toggle="dropdown" aria-expanded="false">
                        <img src="/src/assets/img/avatar.jpg" id="profilePic" alt="Avatar de usuario"
                            class="rounded-circle me-2" width="35" height="35">
                        <span id="userNameDisplay" class="d-none d-sm-inline">username</span>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end">
                        <li><a class="dropdown-item" href="/src/pages/enterprise/profile/index.html"
                                data-route="profile">Ver perfil</a></li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li><a class="dropdown-item text-danger" href="/src/pages/auth/login.html"
                                data-action="logout">Cerrar sesión</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <!-- Filtros de búsqueda -->
    <div class="bg-light py-3 px-4 border-bottom">
        <div class="row g-2">
            <h6>Busca vacantes publicadas</h6>
        </div>
        <div class="row g-2">
            <div class="col-md"><input type="text" class="form-control" placeholder="Título de Trabajo..."></div>
            <div class="col-md"><input type="text" class="form-control" placeholder="Ubicación"></div>
            <div class="col-md"><input type="text" class="form-control" placeholder="Salario"></div>
            <div class="col-md"><select class="form-select">
                    <option>Filtro Avanzado</option>
                </select></div>
            <div class="col-md-auto"><button class="btn btn-primary w-100">Encontrar</button></div>
        </div>
    </div>

    <!-- Listado de trabajos -->
    <div class="container my-4">
        <!-- Filtros activos -->
        <div class="row row-space">

            <div class="col-5 d-flex align-items-center gap-2 justify-content-start">
                <!-- etiquetas de filtro -->
                <span class="badge text-bg-secondary">Diseño <i class="bi bi-x"></i></span>
                <span class="badge text-bg-secondary">Desarrollo <i class="bi bi-x"></i></span>
                <span class="badge text-bg-secondary">Marketing <i class="bi bi-x"></i></span>
                <span class="badge text-bg-secondary">New york <i class="bi bi-x"></i></span>
            </div>

            <!-- seleccion de orden por fecha -->
            <div class="col-3 d-flex justify-content-end">
                <select class="form-select" style="max-width: 200px;" aria-label="Default select example"
                    id="ordenFecha" onchange="enterpriseHomeController.filtrarTrabajos()">
                    <option selected value="recientes">Más recientes</option>
                    <option value="antiguos">Más antiguos</option>

                </select>
            </div>

            <!-- seleccion de vista -->
            <div class="col-2 d-flex justify-content-end">
                <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                    <input type="radio" class="btn-check" name="btnradio" id="btnradio1" autocomplete="off" checked>
                    <label class="btn btn-outline-primary" for="btnradio1">
                        <i class="bi bi-grid"></i>
                    </label>

                    <input type="radio" class="btn-check" name="btnradio" id="btnradio2" autocomplete="off">
                    <label class="btn btn-outline-primary" for="btnradio2">
                        <i class="bi bi-list-ul"></i>
                    </label>

                </div>
            </div>

            <div class="col-2 d-flex justify-content-end">
                <!-- Link to the Post Job page -->
                <a href="/src/pages/enterprise/post-a-job.html" class="btn btn-primary">Publicar trabajo</a>
            </div>

        </div>

        <!-- lista de vacantes, esta vacia porque se cargan en el controller -->
        <div id="jobList" class="container">

        </div>

    </div>

    <!-- Route Protection Script (must load before other scripts) -->
    <script type="module" src="/src/controllers/routeProtection.ts"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>

    <script type="module" src="/src/controllers/logout.ts"></script>

    <script type="module" src="../../controllers/enterprise/homeController.ts"></script>
</body>

<!-- Modal para detalle de trabajo -->
<div class="modal fade" id="modalDetalleTrabajo" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"
    style="justify-content: center; justify-items: center;">
    <div class="modal-dialog" style="width: 70%; margin: 0; max-width:100%;">
        <div class="modal-content" style="width: 100%; padding-left: 5%;">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="modalTitulo" style="text-align: center; width: 100%;">Titulo</h1>
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <h8>Descripción:</h8>
                <p id="modalDescripcion" style="font-weight:100;">Lorem ipsum dolor sit amet consectetur adipisicing
                    elit. Adipisci
                    quae illum voluptate delectus
                    porro nobis asperiores omnis? Sint, dolore accusantium expedita quaerat error pariatur suscipit
                    consectetur at in aut praesentium.</p>
                <hr>
                <h8>Modadalidad:</h8>
                <p id="modalModalidad" style="font-weight:100;">Lorem ipsum dolor sit amet consectetur
                    adipisicing elit. Adipisci
                    quae illum voluptate delectus
                    porro nobis asperiores omnis? Sint, dolore accusantium expedita quaerat error pariatur
                    suscipit
                    consectetur at in aut praesentium.</p>
                <hr>
                <h8>Ubicación:</h8>
                <p id="modalUbicacion" style="font-weight:100;">Lorem ipsum dolor sit amet consectetur
                    adipisicing elit.
                    Adipisci
                    quae illum voluptate delectus
                    porro nobis asperiores omnis? Sint, dolore accusantium expedita quaerat error pariatur
                    suscipit
                    consectetur at in aut praesentium.</p>
            </div>
            <div class="modal-footer">
                <!-- llamamos a la función verCandidatos con el puesto correspondiente -->
                <button id="btnVerCandidatos" onclick="verCandidatos('Frontend Developer')" type="button"
                    class="btn btn-primary">Ver
                    candidatos</button>
            </div>
        </div>
    </div>
</div>



</html>